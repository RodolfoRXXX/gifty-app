<!-- settings of account -->

<div class="row g-6 text-nowrap">
    <!-- Card de cambio de correo electrónico -->
    <div class="col-md-6">
        <mat-card class="card">
            <mat-card-content class="p-2">
                <mat-card-title class="mat-card-title">
                    Email de acceso
                </mat-card-title>
                <mat-card-subtitle class="mat-card-subtitle">
                    Editá tu cuenta de correo electrónico de acceso
                </mat-card-subtitle>
                <form class="d-flex flex-column" [formGroup]="setEmailDataForm" (ngSubmit)="onSubmitSetEmail()">
                    <mat-form-field appearance="fill">
                        <mat-label>Nueva correo electrónico</mat-label>
                        <input matInput
                                [formControl]="emailFirst"
                                type="email" 
                                required>
                        <mat-error class="fs-09" *ngIf="this.emailFirst.errors">{{getEmailFirstErrorMessage()}}</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Reingresa nueva correo electrónico</mat-label>
                        <input matInput
                                formControlName="email"
                                type="email" 
                                required>
                        <mat-error class="fs-09" *ngIf="this.setEmailDataForm.controls['email']!.errors">{{getEmailErrorMessage()}}</mat-error>
                    </mat-form-field>
                    <div class="d-flex justify-content-end mt-2">
                        <button mat-stroked-button color="warn" class="me-3" type="reset" (click)="resetEmail()">Reset</button>
                        <button mat-flat-button color="primary" type="submit" [disabled]="setEmailDataForm.invalid || !this.setEmailDataForm.controls['email'].value.length || this.loading_set_email">
                            <ng-container *ngIf="!loading_set_email; else loadingSpinner">
                                Guardar cambios
                            </ng-container>
                            <ng-template #loadingSpinner>
                                <mat-spinner diameter="20"></mat-spinner>
                            </ng-template>
                        </button>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
    <!-- Card de cambio de contraseña de acceso -->
    <div class="col-md-6">
        <mat-card class="card">
            <mat-card-content class="p-2">
                <mat-card-title class="mat-card-title">
                    Contraseña
                </mat-card-title>
                <mat-card-subtitle class="mat-card-subtitle">
                    Editá tu contraseña de acceso
                </mat-card-subtitle>
                <form class="d-flex flex-column" [formGroup]="setPasswordDataForm" (ngSubmit)="onSubmitSetPassword()">
                    <mat-form-field appearance="fill">
                        <mat-label>Nueva contraseña</mat-label>
                        <input matInput [type]="hide_1 ? 'password' : 'text'"
                                [formControl]="passwordFirst"
                                type="password" 
                                required>
                                <button mat-icon-button matSuffix (click)="hide1Password($event)" >
                                    <mat-icon>{{hide_1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                                <mat-error class="fs-09" *ngIf="this.passwordFirst.errors">{{getPasswordErrorMessageFirst()}}</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Reingresa nueva contraseña</mat-label>
                        <input matInput [type]="hide_2 ? 'password' : 'text'"
                                formControlName="password"
                                type="password" 
                                required>
                                <button mat-icon-button matSuffix (click)="hide2Password($event)" >
                                    <mat-icon>{{hide_2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                        <mat-error class="fs-09" *ngIf="this.setPasswordDataForm.controls['password']!.errors">{{getPasswordErrorMessage()}}</mat-error>
                    </mat-form-field>
                    <div class="d-flex justify-content-end mt-2">
                        <button mat-stroked-button color="warn" class="me-3" type="reset" (click)="resetPassword()">Reset</button>
                        <button mat-flat-button color="primary" type="submit" [disabled]="setPasswordDataForm.invalid || !this.setPasswordDataForm.controls['password'].value.length || this.loading_set_password">
                            <ng-container *ngIf="!loading_set_password; else loadingSpinner">
                                Guardar cambios
                            </ng-container>
                            <ng-template #loadingSpinner>
                                <mat-spinner diameter="20"></mat-spinner>
                            </ng-template>
                        </button>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>
